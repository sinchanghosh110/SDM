plot(wrld_simpl,add=T)
plot(ns_12_2015_2016,col=cl(4),main="Shift in Niche for December 2015 to 2016")
plot(wrld_simpl,add=T)
plot(ns_1_2016_2017,col=cl(4),main="Shift in Niche for January 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_2_2016_2017,col=cl(4),main="Shift in Niche for February 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_3_2016_2017,col=cl(4),main="Shift in Niche for March 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_4_2016_2017,col=cl(4),main="Shift in Niche for April 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_5_2016_2017,col=cl(4),main="Shift in Niche for May 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_6_2016_2017,col=cl(4),main="Shift in Niche for June 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_7_2016_2017,col=cl(4),main="Shift in Niche for July 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_8_2016_2017,col=cl(4),main="Shift in Niche for August 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_9_2016_2017,col=cl(4),main="Shift in Niche for September 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_10_2016_2017,col=cl(4),main="Shift in Niche for October 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_11_2016_2017,col=cl(4),main="Shift in Niche for November 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_12_2016_2017,col=cl(4),main="Shift in Niche for December 2016 to 2017")
plot(wrld_simpl,add=T)
plot(ns_1_2017_2018,col=cl(4),main="Shift in Niche for January 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_2_2017_2018,col=cl(4),main="Shift in Niche for February 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_3_2017_2018,col=cl(4),main="Shift in Niche for March 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_4_2017_2018,col=cl(4),main="Shift in Niche for April 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_5_2017_2018,col=cl(4),main="Shift in Niche for May 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_6_2017_2018,col=cl(4),main="Shift in Niche for June 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_7_2017_2018,col=cl(4),main="Shift in Niche for July 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_8_2017_2018,col=cl(4),main="Shift in Niche for August 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_9_2017_2018,col=cl(4),main="Shift in Niche for September 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_10_2017_2018,col=cl(4),main="Shift in Niche for October 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_11_2017_2018,col=cl(4),main="Shift in Niche for November 2017 to 2018")
plot(wrld_simpl,add=T)
plot(ns_12_2017_2018,col=cl(4),main="Shift in Niche for December 2017 to 2018")
plot(wrld_simpl,add=T)
n_1=p_2010_1*p_2011_1*p_2012_1*p_2013_1*p_2014_1*p_2015_1*p_2016_1*p_2017_1*p_2018_1
n_2=p_2010_2*p_2011_2*p_2012_2*p_2013_2*p_2014_2*p_2015_2*p_2016_2*p_2017_2*p_2018_2
n_3=p_2010_3*p_2011_3*p_2012_3*p_2013_3*p_2014_3*p_2015_3*p_2016_3*p_2017_3*p_2018_3
n_4=p_2010_4*p_2011_4*p_2012_4*p_2013_4*p_2014_4*p_2015_4*p_2016_4*p_2017_4*p_2018_4
n_5=p_2010_5*p_2011_5*p_2012_5*p_2013_5*p_2014_5*p_2015_5*p_2016_5*p_2017_5*p_2018_5
n_6=p_2010_6*p_2011_6*p_2012_6*p_2013_6*p_2014_6*p_2015_6*p_2016_6*p_2017_6*p_2018_6
n_7=p_2010_7*p_2011_7*p_2012_7*p_2013_7*p_2014_7*p_2015_7*p_2016_7*p_2017_7*p_2018_7
n_8=p_2010_8*p_2011_8*p_2012_8*p_2013_8*p_2014_8*p_2015_8*p_2016_8*p_2017_8*p_2018_8
n_9=p_2010_9*p_2011_9*p_2012_9*p_2013_9*p_2014_9*p_2015_9*p_2016_9*p_2017_9*p_2018_9
n_10=p_2010_10*p_2011_10*p_2012_10*p_2013_10*p_2014_10*p_2015_10*p_2016_10*p_2017_10*p_2018_10
n_11=p_2010_11*p_2011_11*p_2012_11*p_2013_11*p_2014_11*p_2015_11*p_2016_11*p_2017_11*p_2018_11
n_12=p_2010_12*p_2011_12*p_2012_12*p_2013_12*p_2014_12*p_2015_12*p_2016_12*p_2017_12*p_2018_12
plot(n_1,main="Common Niche for January (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_2,main="Common Niche for February (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_3,main="Common Niche for March (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_4,main="Common Niche for April (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_5,main="Common Niche for May (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_6,main="Common Niche for June (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_7,main="Common Niche for July (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_8,main="Common Niche for August (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_9,main="Common Niche for September (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_10,main="Common Niche for October (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_11,main="Common Niche for November (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(n_12,main="Common Niche for December (2010 to 2018)")
plot(wrld_simpl,add=T)
ns_1_2=n_2+n_2-n_1
ns_2_3=n_3+n_3-n_2
ns_3_4=n_4+n_4-n_3
ns_4_5=n_5+n_5-n_4
ns_5_6=n_6+n_6-n_5
ns_6_7=n_7+n_7-n_6
ns_7_8=n_8+n_8-n_7
ns_8_9=n_9+n_9-n_8
ns_9_10=n_10+n_10-n_9
ns_10_11=n_11+n_11-n_10
ns_11_12=n_12+n_12-n_11
ns_12_1=n_1+n_1-n_12
plot(ns_1_2,col=cl(4),main="Expected origin and Destination of February")
plot(wrld_simpl,add=T)
plot(ns_2_3,col=cl(4),main="Expected origin and Destination of March")
plot(wrld_simpl,add=T)
plot(ns_3_4,col=cl(4),main="Expected origin and Destination of April")
plot(wrld_simpl,add=T)
plot(ns_4_5,col=cl(4),main="Expected origin and Destination of May")
plot(wrld_simpl,add=T)
plot(ns_5_6,col=cl(4),main="Expected origin and Destination of June")
plot(wrld_simpl,add=T)
plot(ns_6_7,col=cl(4),main="Expected origin and Destination of July")
plot(wrld_simpl,add=T)
plot(ns_7_8,col=cl(4),main="Expected origin and Destination of August")
plot(wrld_simpl,add=T)
plot(ns_8_9,col=cl(4),main="Expected origin and Destination of September")
plot(wrld_simpl,add=T)
plot(ns_9_10,col=cl(4),main="Expected origin and Destination of October")
plot(wrld_simpl,add=T)
plot(ns_10_11,col=cl(4),main="Expected origin and Destination of November")
plot(wrld_simpl,add=T)
plot(ns_11_12,col=cl(4),main="Expected origin and Destination of December")
plot(wrld_simpl,add=T)
plot(ns_12_1,col=cl(4),main="Expected origin and Destination of January")
plot(wrld_simpl,add=T)
total1=p_2010_1+p_2011_1+p_2012_1+p_2013_1+p_2014_1+p_2015_1+p_2016_1+p_2017_1+p_2018_1
total2=p_2010_2+p_2011_2+p_2012_2+p_2013_2+p_2014_2+p_2015_2+p_2016_2+p_2017_2+p_2018_2
total3=p_2010_3+p_2011_3+p_2012_3+p_2013_3+p_2014_3+p_2015_3+p_2016_3+p_2017_3+p_2018_3
total4=p_2010_4+p_2011_4+p_2012_4+p_2013_4+p_2014_4+p_2015_4+p_2016_4+p_2017_4+p_2018_4
total5=p_2010_5+p_2011_5+p_2012_5+p_2013_5+p_2014_5+p_2015_5+p_2016_5+p_2017_5+p_2018_5
total6=p_2010_6+p_2011_6+p_2012_6+p_2013_6+p_2014_6+p_2015_6+p_2016_6+p_2017_6+p_2018_6
total7=p_2010_7+p_2011_7+p_2012_7+p_2013_7+p_2014_7+p_2015_7+p_2016_7+p_2017_7+p_2018_7
total8=p_2010_8+p_2011_8+p_2012_8+p_2013_8+p_2014_8+p_2015_8+p_2016_8+p_2017_8+p_2018_8
total9=p_2010_9+p_2011_9+p_2012_9+p_2013_9+p_2014_9+p_2015_9+p_2016_9+p_2017_9+p_2018_9
total10=p_2010_10+p_2011_10+p_2012_10+p_2013_10+p_2014_10+p_2015_10+p_2016_10+p_2017_10+p_2018_10
total11=p_2010_11+p_2011_11+p_2012_11+p_2013_11+p_2014_11+p_2015_11+p_2016_11+p_2017_11+p_2018_11
total12=p_2010_12+p_2011_12+p_2012_12+p_2013_12+p_2014_12+p_2015_12+p_2016_12+p_2017_12+p_2018_12
cl=colorRampPalette(c("gray99","yellow","lightgoldenrod","gold1","chocolate2","pink3","violetred1","red3","yellowgreen","lightblue","slategrey","darkgreen","blue"))
plot(total1,main="Sum of Niche for January (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total2,main="Sum of Niche for February (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total3,main="Sum of Niche for March (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total4,main="Sum of Niche for April (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total5,main="Sum of Niche for May (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total6,main="Sum of Niche for June (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total7,main="Sum of Niche for July (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total8,main="Sum of Niche for August (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total9,main="Sum of Niche for September (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total10,main="Sum of Niche for October (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total11,main="Sum of Niche for November (2010 to 2018)")
plot(wrld_simpl,add=T)
plot(total12,main="Sum of Niche for December (2010 to 2018)")
plot(wrld_simpl,add=T)
exp1=raster(total1)
exp1[]=ifelse(total1[]>=5,1,0)
exp2=raster(total2)
exp2[]=ifelse(total2[]>=5,1,0)
exp3=raster(total3)
exp3[]=ifelse(total3[]>=5,1,0)
exp4=raster(total4)
exp4[]=ifelse(total4[]>=5,1,0)
exp5=raster(total5)
exp5[]=ifelse(total5[]>=5,1,0)
exp6=raster(total6)
exp6[]=ifelse(total6[]>=5,1,0)
exp7=raster(total7)
exp7[]=ifelse(total7[]>=5,1,0)
exp8=raster(total8)
exp8[]=ifelse(total8[]>=5,1,0)
exp9=raster(total9)
exp9[]=ifelse(total9[]>=5,1,0)
exp10=raster(total9)
exp10[]=ifelse(total10[]>=5,1,0)
exp11=raster(total11)
exp11[]=ifelse(total11[]>=5,1,0)
exp12=raster(total12)
exp12[]=ifelse(total12[]>=5,1,0)
allexp=exp1+exp2+exp3+exp4+exp5+exp6+exp7+exp8+exp9+exp10+exp11+exp12
plot(allexp,col=cl(13), main="Amplitude of niche expansion")
plot(wrld_simpl,add=T)
mig10=(p_2010_1+p_2010_2+p_2010_3+p_2010_4+p_2010_5+p_2010_6+p_2010_7+p_2010_8+p_2010_9+p_2010_10+p_2010_11+p_2010_12)/12
mig11=(p_2011_1+p_2011_2+p_2011_3+p_2011_4+p_2011_5+p_2011_6+p_2011_7+p_2011_8+p_2011_9+p_2011_10+p_2011_11+p_2011_12)/12
mig12=(p_2012_1+p_2012_2+p_2012_3+p_2012_4+p_2012_5+p_2012_6+p_2012_7+p_2012_8+p_2012_9+p_2012_10+p_2012_11+p_2012_12)/12
mig13=(p_2013_1+p_2013_2+p_2013_3+p_2013_4+p_2013_5+p_2013_6+p_2013_7+p_2013_8+p_2013_9+p_2013_10+p_2013_11+p_2013_12)/12
mig14=(p_2014_1+p_2014_2+p_2014_3+p_2014_4+p_2014_5+p_2014_6+p_2014_7+p_2014_8+p_2014_9+p_2014_10+p_2014_11+p_2014_12)/12
mig15=(p_2015_1+p_2015_2+p_2015_3+p_2015_4+p_2015_5+p_2015_6+p_2015_7+p_2015_8+p_2015_9+p_2015_10+p_2015_11+p_2015_12)/12
mig16=(p_2016_1+p_2016_2+p_2016_3+p_2016_4+p_2016_5+p_2016_6+p_2016_7+p_2016_8+p_2016_9+p_2016_10+p_2016_11+p_2016_12)/12
mig17=(p_2017_1+p_2017_2+p_2017_3+p_2017_4+p_2017_5+p_2017_6+p_2017_7+p_2017_8+p_2017_9+p_2017_10+p_2017_11+p_2017_12)/12
mig18=(p_2018_1+p_2018_2+p_2018_3+p_2018_4+p_2018_5+p_2018_6+p_2018_7+p_2018_8+p_2018_9+p_2018_10+p_2018_11+p_2018_12)/12
cl=colorRampPalette(c("gray99","#008B45","#00CD66","#00EE76","#00FF7F","#00FF7F","#54FF9F","#FFC1C1","#FF6347","#FF0000","#EE0000","#CD0000","#8B0000"))
plot(mig10,col=cl(13),main="2010")
plot(wrld_simpl,add=T)
plot(mig11,col=cl(13),main="2011")
plot(wrld_simpl,add=T)
plot(mig12,col=cl(13),main="2012")
plot(wrld_simpl,add=T)
plot(mig13,col=cl(13),main="2013")
plot(wrld_simpl,add=T)
plot(mig14,col=cl(13),main="2014")
plot(wrld_simpl,add=T)
plot(mig15,col=cl(13),main="2015")
plot(wrld_simpl,add=T)
plot(mig16,col=cl(13),main="2016")
plot(wrld_simpl,add=T)
plot(mig17,col=cl(13),main="2017")
plot(wrld_simpl,add=T)
plot(mig18,col=cl(13),main="2018")
plot(wrld_simpl,add=T)
cor1=corLocal(mig10,mig11,test=T)
cor1
ccor1=raster(mig10)
ccor1[]=ifelse(cor1$p.value[]<0.05,cor1$pearson[],NA);ccor1
ccor1[]=ifelse(ccor1[]<0.05,ccor1[],NA);ccor1
ccor1[]=ifelse(cor1$p.value[]>0.05,cor1$pearson[],ccor1[]);ccor1
crs(ccor1)=crs(wrld_simpl)
plot(mig10,col=cl(13),main="2010")
plot(ccor1,col=cm.colors(7),add=T)
plot(wrld_simpl,add=T)
cor2=corLocal(mig12,mig11,test=T)
cor2
ccor2=raster(mig12)
ccor2[]=ifelse(cor2$p.value[]<0.05,cor2$pearson[],NA);ccor2
ccor2[]=ifelse(ccor2[]<0.05,ccor2[],NA);ccor2
ccor2[]=ifelse(cor2$p.value[]>0.05,cor2$pearson[],ccor2[]);ccor2
crs(ccor2)=crs(wrld_simpl)
plot(ccor2,col=cm.colors(7))
plot(wrld_simpl,add=T)
cor3=corLocal(mig12,mig13,test=T)
cor3
ccor3=raster(mig12)
ccor3[]=ifelse(cor3$p.value[]<0.05,cor3$pearson[],NA);ccor3
ccor3[]=ifelse(ccor3[]<0.05,ccor3[],NA);ccor3
ccor3[]=ifelse(cor3$p.value[]>0.05,cor3$pearson[],ccor3[]);ccor3
crs(ccor3)=crs(wrld_simpl)
plot(ccor3,col=cm.colors(7))
plot(wrld_simpl,add=T)
cor4=corLocal(mig14,mig13,test=T)
cor4
ccor4=raster(mig14)
ccor4[]=ifelse(cor4$p.value[]<0.05,cor4$pearson[],NA);ccor4
ccor4[]=ifelse(ccor4[]<0.05,ccor4[],NA);ccor4
ccor4[]=ifelse(cor4$p.value[]>0.05,cor4$pearson[],ccor4[]);ccor4
crs(ccor4)=crs(wrld_simpl)
plot(ccor4,col=cm.colors(7))
plot(wrld_simpl,add=T)
cor5=corLocal(mig14,mig15,test=T)
cor5
ccor5=raster(mig14)
ccor5[]=ifelse(cor5$p.value[]<0.05,cor5$pearson[],NA);ccor5
ccor5[]=ifelse(ccor5[]<0.05,ccor5[],NA);ccor5
ccor5[]=ifelse(cor5$p.value[]>0.05,cor5$pearson[],ccor5[]);ccor5
crs(ccor5)=crs(wrld_simpl)
plot(ccor5,col=cm.colors(7))
plot(wrld_simpl,add=T)
cor6=corLocal(mig16,mig15,test=T)
cor6
ccor6=raster(mig16)
ccor6[]=ifelse(cor6$p.value[]<0.05,cor6$pearson[],NA);ccor6
ccor6[]=ifelse(ccor6[]<0.05,ccor6[],NA);ccor6
ccor6[]=ifelse(cor6$p.value[]>0.05,cor6$pearson[],ccor6[]);ccor6
crs(ccor6)=crs(wrld_simpl)
plot(ccor6,col=cm.colors(7))
plot(wrld_simpl,add=T)
cor7=corLocal(mig16,mig17,test=T)
cor7
ccor7=raster(mig16)
ccor7[]=ifelse(cor7$p.value[]<0.05,cor7$pearson[],NA);ccor7
ccor7[]=ifelse(ccor7[]<0.05,ccor7[],NA);ccor7
ccor7[]=ifelse(cor7$p.value[]>0.05,cor7$pearson[],ccor7[]);ccor7
crs(ccor7)=crs(wrld_simpl)
plot(ccor7,col=cm.colors(7))
plot(wrld_simpl,add=T)
cor8=corLocal(mig18,mig17,test=T)
cor8
ccor8=raster(mig18)
ccor8[]=ifelse(cor8$p.value[]<0.05,cor8$pearson[],NA);ccor8
ccor8[]=ifelse(ccor8[]<0.05,ccor8[],NA);ccor8
ccor8[]=ifelse(cor8$p.value[]>0.05,cor8$pearson[],ccor8[]);ccor8
crs(ccor8)=crs(wrld_simpl)
plot(ccor8,col=cm.colors(7))
plot(wrld_simpl,add=T)
correlation_raster1 <- calc(raster1, raster2, fun=function(x, y) {cor(x, y)})
correlation_raster1 <- calc(mig10,mig11, fun=function(x, y) {cor(x, y)})
library(raster)
correlation_raster1 <- calc(mig10,mig11, fun=function(x, y) {cor(x, y)})
correlation_raster1=calc(mig10,mig11, fun=function(x, y){cor(x, y)})
cor(mig10,mig11)
correlation_raster1=calc(mig10[],mig11[], fun=function(x, y){cor(x, y)})
correlation_raster1=calc(mig10,mig11, fun=function(x, y){cor(x[], y[])})
#correlation_raster1=calc(mig10,mig11, fun=function(x, y){cor(x[], y[])})
cor(mig10[],mig11)
#correlation_raster1=calc(mig10,mig11, fun=function(x, y){cor(x[], y[])})
cor(mig10[],mig11[])
setwd("D:/SDM_blue_tailed_bee_eater")
getwd()
knitr::opts_chunk$set(echo = TRUE)
setwd("D:/SDM_blue_tailed_bee_eater/Prey")
odonatefile=read.csv("dragonfly_sp_name.csv", header=T)
odonatename=odonatefile$Species.name
class(odonatename)
library(rgbif)
library(rgbif)
for (i in 1:length(odonatename)) {
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey=prey$data
write.csv(prey,file = paste(odonatename[i],"csv",sep = "."))
}
for (i in 1:length(odonatename)) {
file1 = paste(odonatename[i],"csv",sep = ".")
#prey<-occ_data(scientificName=odonatename[i],limit=10000)
#prey=prey$data
#write.csv(prey,file = paste(odonatename[i],"csv",sep = "."))
}
file1
odonatefile=read.csv("dragonfly_sp_name.csv", header=T)
odonatename=odonatefile$Species.name
class(odonatename)
odonatename
odonatename=odonatename[-c(297,298)]
library(rgbif)
for (i in 1:length(odonatename)) {
file1 = paste(odonatename[i],"csv",sep = ".")
#prey<-occ_data(scientificName=odonatename[i],limit=10000)
#prey=prey$data
#write.csv(prey,file = paste(odonatename[i],"csv",sep = "."))
}
file1
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
#prey<-occ_data(scientificName=odonatename[i],limit=10000)
#prey=prey$data
#write.csv(prey,file = paste(odonatename[i],"csv",sep = "."))
}
file1
library(rgbif)
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey=prey$data
write.csv(prey,file = file1[i])
}
prey$decimalLatitude
prey=prey$data
prey<-occ_data(scientificName=odonatename[i],limit=10000)
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey=prey$data
write.csv(prey,file = file1[i])
}
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey=prey$data
}
library(rgbif)
#file1=NULL
for (i in 1:length(odonatename)) {
#file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey=prey$data
prey=cbind.data.frame(prey$scientificName,prey$decimalLatitude,prey$decimalLongitude)
}
prey
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey$scientificName,prey$decimalLatitude,prey$decimalLongitude)
write.csv(prey2,file = file1)
}
prey2
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey$scientificName,prey$decimalLatitude,prey$decimalLongitude)
prey2
library(rgbif)
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
prey2
write.csv(prey2,file = file1)
}
prey2
library(rgbif)
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
prey2=na.omit(prey2)
colnames(prey2)=c("sp","lat","lon")
write.csv(prey2,file = file1)
}
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
prey2=na.omit(prey2)
colnames(prey2)=c("sp","lat","lon")
write.csv(prey2,file = file1[i])
}
for (i in 1:length(odonatename)) {
#file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
prey2=na.omit(prey2)
colnames(prey2)=c("sp","lat","lon")
write.csv(prey2,file = paste(prey, i, ".csv"))
}
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
prey2=na.omit(prey2)
colnames(prey2)=c("sp","lat","lon")
write.csv(prey2,file =file1[i])
}
prey2
library(rgbif)
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
prey3=na.omit(prey2)
colnames(prey3)=c("sp","lat","lon")
write.csv(prey3,file =file1[i])
}
prey2
library(rgbif)
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
prey3=na.omit(prey2)
if
nrow(prey3)!=0
library(rgbif)
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
prey3=na.omit(prey2)
if
(nrow(prey3)!=0)
{colnames(prey3)=c("sp","lat","lon")
write.csv(prey3,file =file1[i])}
}
prey2
library(rgbif)
file1=NULL
for (i in 1:length(odonatename)) {
file1[i] = paste(odonatename[i],"csv",sep = ".")
prey<-occ_data(scientificName=odonatename[i],limit=10000)
prey1=prey$data
prey2=cbind.data.frame(prey1$scientificName,prey1$decimalLatitude,prey1$decimalLongitude)
#prey3=na.omit(prey2)
if (nrow(prey2) == 0) {
message(paste("No occurrence data found for", odonatename[i]))
} else {
prey3 <- na.omit(prey2)
colnames(prey3) <- c("sp","lat","lon")
write.csv(prey3, file = file1[i])
}
}
library(rgbif)
file1 <- NULL
for (i in 1:length(odonatename)) {
file1[i] <- paste(odonatename[i], "csv", sep = ".")
prey <- occ_data(scientificName = odonatename[i], limit = 10000)
tryCatch({
prey1 <- prey$data
prey2 <- cbind.data.frame(prey1$scientificName, prey1$decimalLatitude, prey1$decimalLongitude)
prey3 <- na.omit(prey2)
if (nrow(prey3) == 0) {
message(paste("No occurrence data found for", odonatename[i]))
} else {
colnames(prey3) <- c("sp", "lat", "lon")
write.csv(prey3, file = file1[i])
}
}, error = function(e) {
message(paste("Error with", odonatename[i], "- Unknown or uninitialized column"))
})
}
